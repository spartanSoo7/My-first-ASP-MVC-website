@model IEnumerable<MvcDemo.Models.VOUCHER_TABLE>
@{
    ViewBag.Title = "Ethinicity report";
}

<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
<script src="//code.jquery.com/jquery-1.10.2.js"></script>
<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

<h2>View vouchers/ grants by ethinicity</h2>
<p>
    @Html.ActionLink("Back", "Index")
</p>
@if (TempData["dateFail"] != null)
{
    <h3 style="color: red;">@TempData["inputFail"]</h3>
}
@{int Total = 0;}

@{ if (Total > 50)
 {
    <h3 style="color: red;">Warning: There is more than 50 vouchers shown</h3>
 }
}

<!--User input-->
@using (Html.BeginForm())
{
    <p>
        Enter the Ethinicity: @Html.DropDownList("ETHINICITY_ID", String.Empty)
        <input type="submit" value="Search" />
    </p>
}



<table>
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.REF_NUM)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.STUDENT_ID)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.STUDENT.ETHINICITY_TABLE.ETHINICITY)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.STUDENT.DETAILED_ETHINICITY_TABLE.DETAILED_ETHINICITY)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.VOUCHER_TYPE_TABLLE.VOUCHER_TYPE)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DATE_OF_ISSUE)
        </th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.REF_NUM)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.STUDENT_ID)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.STUDENT.ETHINICITY_TABLE.ETHINICITY)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.STUDENT.DETAILED_ETHINICITY_TABLE.DETAILED_ETHINICITY)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.VOUCHER_TYPE_TABLLE.VOUCHER_TYPE)
            </td>

            <td>
                @Html.DisplayFor(modelItem => item.DATE_OF_ISSUE)
            </td>
        </tr>
        Total++;
    }

</table>
<p>Total number of grants: @Total</p>